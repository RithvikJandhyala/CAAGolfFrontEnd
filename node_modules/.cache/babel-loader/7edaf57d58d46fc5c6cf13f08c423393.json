{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ricky\\\\Desktop\\\\CAA\\\\CAAGolfPlatformFrontEnd-main\\\\src\\\\pages\\\\AddSchool.js\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Navbar from '../components/Navbar';\nimport BarLoader from \"react-spinners/BarLoader\";\nimport SchoolService from '../services/SchoolService';\nconst AddSchool = () => {\n  const [name, setName] = useState('');\n  const [image, setImage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const inputName = useRef();\n  const inputImage = useRef();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (localStorage.username === undefined) {\n      navigate(\"/\");\n    }\n    if (localStorage.role !== \"Admin\") {\n      navigate(\"/home\");\n    }\n  }, []);\n  const handleImageUpload = event => {\n    const file = event.target.files[0];\n    setImage(file);\n  };\n  const saveSchool = async e => {\n    e.preventDefault();\n    if (isValidForm()) {\n      setLoading(true);\n      const formData = new FormData();\n      formData.append('name', name.trim());\n      formData.append('image', image);\n      await SchoolService.addSchool(formData).then(response => {\n        localStorage.message = 'School added successfully with ID: ' + response.data;\n        console.log('School added successfully with ID:', localStorage.message);\n        navigate('/schools');\n      }).catch(error => {\n        console.error('Error adding school:', error);\n      });\n      setLoading(false);\n    }\n  };\n  const isValidForm = () => {\n    var valid = true;\n    if (name.length < 1) {\n      inputName.current.style.color = \"red\";\n      valid = false;\n    } else {\n      inputName.current.style.color = \"black\";\n    }\n    /* if(image.length < 1){\n         inputImage.current.style.color = \"red\";\n         valid = false;\n     }\n     else {\n         inputImage.current.style.color = \"black\";\n     } */\n    return valid;\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }), \" \", loading ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(BarLoader, {\n    color: \"#0d6efd\",\n    loading: loading,\n    height: 4,\n    width: 200,\n    cssOverride: {\n      marginLeft: '44%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 14\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    style: {\n      paddingRight: '0.75rem',\n      paddingLeft: '0.75rem',\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card col-md-6 offset-md-3 offset-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, \"Add School\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    action: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: inputName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 33\n    }\n  }, \"School Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Example: BASIS Scottsdale\",\n    name: \"first name\",\n    ref: inputName,\n    className: \"form-control\",\n    value: name,\n    onChange: e => setName(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    ref: inputImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 29\n    }\n  }, \"Upload Photo:\", /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 63\n    }\n  }, \"up to 1MB\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"image\",\n    accept: \"image/*\",\n    onChange: e => handleImageUpload(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 34\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary mb-2 player-right player-left\",\n    disabled: loading,\n    onClick: e => saveSchool(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary mb-2 player-right\",\n    disabled: loading,\n    onClick: e => navigate('/schools'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 29\n    }\n  }, \"Cancel\")))))))));\n};\nexport default AddSchool;","map":{"version":3,"names":["React","useState","useRef","useEffect","useNavigate","Navbar","BarLoader","SchoolService","AddSchool","name","setName","image","setImage","loading","setLoading","inputName","inputImage","navigate","localStorage","username","undefined","role","handleImageUpload","event","file","target","files","saveSchool","e","preventDefault","isValidForm","formData","FormData","append","trim","addSchool","then","response","message","data","console","log","catch","error","valid","length","current","style","color","marginBottom","marginLeft","paddingRight","paddingLeft","marginRight","value"],"sources":["C:/Users/ricky/Desktop/CAA/CAAGolfPlatformFrontEnd-main/src/pages/AddSchool.js"],"sourcesContent":["import React, {useState,useRef,useEffect} from 'react'\nimport {useNavigate} from 'react-router-dom'\nimport Navbar from '../components/Navbar';\nimport BarLoader from \"react-spinners/BarLoader\";\nimport SchoolService from '../services/SchoolService';\n\nconst AddSchool = () => {\n  const [name,setName] = useState('');\n  const [image,setImage] = useState(''); \n  const [loading,setLoading] = useState(false);\n  const inputName = useRef(); \n  const inputImage = useRef(); \n\n  const navigate  = useNavigate();\n  useEffect(()=>{\n        if(localStorage.username === undefined){\n            navigate(\"/\");\n        }\n        if(localStorage.role !== \"Admin\"){\n            navigate(\"/home\");\n        }    \n  },[]);\n\n  \n  const handleImageUpload = (event) => {\n    const file = event.target.files[0];\n    setImage(file);\n   }\n  \n\n   const saveSchool = async(e) => {\n    e.preventDefault();   \n    if(isValidForm()){\n        setLoading(true); \n        const formData = new FormData();\n        formData.append('name', name.trim());\n        formData.append('image', image);\n        await SchoolService.addSchool(formData).then((response) => {                     \n            localStorage.message = 'School added successfully with ID: ' + response.data;\n            console.log('School added successfully with ID:', localStorage.message);\n            navigate ('/schools');\n        })\n        .catch(error => {\n            console.error('Error adding school:', error);\n        }); \n        setLoading(false);             \n    }\n};\n  const isValidForm = () => {\n    var valid = true;\n        if(name.length < 1){\n            inputName.current.style.color = \"red\";\n            valid = false;\n        }\n        else {\n            inputName.current.style.color = \"black\";\n        }\n       /* if(image.length < 1){\n            inputImage.current.style.color = \"red\";\n            valid = false;\n        }\n        else {\n            inputImage.current.style.color = \"black\";\n        } */\n        return valid;\n  };\n\n  return (\n    <div>\n    <header>\n        <Navbar /> \n     </header>\n    <section>\n    <div>\n    </div>\n        <br/> {loading?\n                <div style={{marginBottom:0}}>\n                    \n                    <BarLoader\n                        color={\"#0d6efd\"}\n                        loading={loading}        \n                        height = {4}\n                        width = {200}\n                        cssOverride={{marginLeft:'44%'}}          \n                    />\n                </div>\n                :\n                <></>    \n            }<br/>\n    <div className = \"container\" style={{paddingRight:'0.75rem',paddingLeft:'0.75rem',marginLeft: 'auto',marginRight:'auto'}}>\n        <div className = \"row\">\n            <div className = \"card col-md-6 offset-md-3 offset-md-3\">\n                <div>\n                    <br/>\n                    <h2 className = \"text-center\">Add School</h2>\n                    <div className = \"card-body\">\n                        <form action = \"\" >\n                            \n                            \n                            <div ref={inputName}>\n                                <h5>School Name:</h5>\n                                \n                                    <input\n                                        type = \"text\"\n                                        placeholder = \"Example: BASIS Scottsdale\"\n                                        name = \"first name\"\n                                        ref={inputName}\n                                        className = \"form-control\"\n                                        value = {name}\n                                        onChange = {(e) => setName(e.target.value)} \n                                        required />\n                            </div>\n                            <br/>\n                            <h5 ref={inputImage}>Upload Photo:<h6>up to 1MB</h6></h5>\n                            \n                            <input type=\"file\" name=\"image\" accept=\"image/*\"  onChange={(e) => handleImageUpload(e)} />\n                            <br/><br/>\n                            <button type=\"submit\" className = \"btn btn-primary mb-2 player-right player-left\" \n                                     disabled = {loading}\n                                     onClick = {(e) =>saveSchool(e)}>\n                                Submit\n                            </button> \n                            <button className = \"btn btn-primary mb-2 player-right\"\n                                    disabled = {loading}                                    \n                                    onClick = {(e) =>navigate ('/schools')}>\n                                Cancel\n                            </button>\n                        </form>\n                       \n\n                    </div>\n                </div>\n\n            </div>\n\n        </div>\n        \n    </div>\n    </section>\n    </div>\n  )\n}\n\nexport default AddSchool;"],"mappings":"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"},"metadata":{},"sourceType":"module"}